(()=>{"use strict";var e={d:(t,a)=>{for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{b:()=>t});const t=document.querySelector("#content");(()=>{const e=document.createElement("div");e.classList.add("main-container"),e.innerHTML='    \n    <div class="todo-list" data-list-display-container>\n        <div class="todo-header">\n            <h2 class="list-title" data-list-title>Example</h2>\n            <p class="task-count" data-list-count>3 tasks remaining</p>\n        </div>\n        <div class="todo-body">\n            <div class="tasks" data-tasks>\n            <div class="task">\n            <input type="checkbox" id="task-1" />\n            <label for="task-1">\n                <span class="custom-checkbox">\n                </span>Clean stuff\n            </label>\n            <div class="side-task-container">\n                \x3c!-- <label for = "task-3">2/11/2022</label> --\x3e\n                <div class="task-date">3/11/2022</div>\n                <i class=\'bx bx-edit\'></i>\n                <i class=\'bx bx-trash\'></i>\n            </div>\n        </div>\n        \x3c!-- task 1 --\x3e\n            </div>\n            <div class="new-task-maker">\n                <form action="" data-new-task-form>\n                    <input type="text" class="new-task" data-new-task-input placeholder="new task name"\n                        aria-label="new-task-name" />\n                    <button class="btn-proj-task" aria-label="new-task-name">+</button>\n                </form>\n            </div>\n            <div class="delete-stuff">\n                <button class="btn-delete" data-clear-complete-tasks-button>Clear completed tasks</button>\n                <button class="btn-delete" data-delete-project-button>Delete project</button>\n            </div>\n\n        </div>\n    </div>',t.appendChild(e)})(),(()=>{const e=document.createElement("div");e.classList.add("menu-container"),e.innerHTML='    <div class="sidebarBtn">\n    <span class="fas fa-bars"></span>\n</div>\n<nav class="sidebar">\n    <div class="logo_content">\n        <div class="logo">\n            <i class=\'bx bx-list-check\'></i>\n            <div class="logo_name">ToDo List</div>\n        </div>\n    </div>\n\n    <ul class="nav_list">\n        <li>\n            <a href="#">\n                <span class="links_name">Home</span>\n                \n            </a>\n        </li>\n        <li>\n            <a href="#">\n                <span class="links_name">Today</span>\n                \n            </a>\n        </li>\n        <li>\n            <a href="#">\n                <span class="links_name">Week</span>\n                \n            </a>\n        </li>\n        <li class="projects">\n            <a href="#" class="proj-btn">Projects\n                <span class="fas fa-caret-down" id="down_arrow"></span>\n                \n            </a>\n\n            <ul class="proj-list" data-lists>\n\n            </ul>\n            <form action = "" data-new-proj-form>\n                <input type = "text" class = "new-list" data-new-proj-input\n                 placeholder="new project name" aria-label = "new project name"/>\n                 <button class = "btn-proj-list" aria-label="create new project">+</button>\n            </form>\n\n\n        </li>\n    </ul>\n</nav>',t.appendChild(e)})();const a=document.querySelector("[data-lists"),s=document.querySelector("[data-new-proj-form]"),n=document.querySelector("[data-new-proj-input]"),l=document.querySelector("[data-delete-project-button]"),i=document.querySelector("[data-list-display-container]"),c=document.querySelector("[data-list-title]"),o=document.querySelector("[data-list-count]"),r=document.querySelector("[data-tasks]"),d=document.getElementById("task-template"),m=document.querySelector("[data-new-task-form]"),u=document.querySelector("[data-new-task-input]"),p=document.querySelector("[data-clear-complete-tasks-button]"),v="task.projects",k="task.selectedProjId";let f=JSON.parse(localStorage.getItem(v))||[],b=localStorage.getItem(k);function h(){y(),function(){L(a),f.forEach((e=>{const t=document.createElement("li");t.dataset.listId=e.id,t.classList.add("list-name"),e.id===b&&t.classList.add("active");const s=document.createElement("a");s.href="#";const n=document.createElement("div");n.classList.add("badge");const l=document.createElement("div");l.classList.add("taskNumbers"),l.innerText=e.tasks.filter((e=>!e.complete)).length;const i=document.createElement("span");i.classList.add("proj_links"),i.innerText=e.name,n.appendChild(l),s.appendChild(n),s.appendChild(i),t.appendChild(s),a.appendChild(t)}));const e=f.find((e=>e.id===b));null==b?i.style.display="none":(i.style.display="",c.innerText=e.name,g(e),L(r),function(e){e.tasks.forEach((e=>{const t=document.importNode(d.content,!0),a=t.querySelector("div");"low"===e.priority&&a.classList.add("low-priority"),"med"===e.priority&&a.classList.add("med-priority"),"high"===e.priority&&a.classList.add("high-priority"),a.classList.add("low-priority");const s=t.querySelector("input");s.id=e.id,s.checked=e.complete;const n=t.querySelector("label");n.htmlFor=e.id,n.append(e.name);const l=t.getElementById("dueDate");l.innerText=e.dueDate,!0===e.complete&&l.classList.add("checked"),r.appendChild(t)}))}(e))}()}function y(){localStorage.setItem(v,JSON.stringify(f)),localStorage.setItem(k,b)}function g(e){const t=e.tasks.filter((e=>!e.complete)).length,a=1===t?"task":"tasks";o.innerText=`${t} ${a} remaining`;const s=document.getElementsByClassName("taskNumbers");for(let a=0;a<s.length;a++)e.name===document.getElementsByClassName("taskNumbers")[a].parentElement.nextElementSibling.innerText&&(s[a].innerText=t)}function L(e){for(;e.firstChild;)e.removeChild(e.firstChild)}a.addEventListener("click",(e=>{if("ul"===e.currentTarget.tagName.toLowerCase()){switch(e.target.tagName.toLowerCase()){case"a":b=e.target.parentElement.dataset.listId;break;case"span":b=e.target.parentElement.parentElement.dataset.listId;break;case"div":b="taskNumbers"===e.target.className?e.target.parentElement.parentElement.parentElement.dataset.listId:e.target.parentElement.parentElement.dataset.listId}h()}})),r.addEventListener("click",(e=>{if("input"===e.target.tagName.toLowerCase()){const t=f.find((e=>e.id===b));t.tasks.find((t=>t.id===e.target.id)).complete=e.target.checked,y(),g(t)}})),p.addEventListener("click",(()=>{const e=f.find((e=>e.id===b));e.tasks=e.tasks.filter((e=>!e.complete)),h()})),l.addEventListener("click",(()=>{f=f.filter((e=>e.id!==b)),b=null,h()})),s.addEventListener("submit",(e=>{e.preventDefault();const t=n.value;if(null==t||""===t)return;const a=(s=t,{id:Date.now().toString(),name:s,tasks:[]});var s;n.value=null,f.push(a),h()})),m.addEventListener("submit",(e=>{e.preventDefault();const t=u.value;if(null==t||""===t)return;const a=function(e){const t=new Date;return t.setDate(t.getDate()+7),{id:Date.now().toString(),name:e,dueDate:t.toLocaleDateString(),complete:!1,priority:"low"}}(t);u.value=null,f.find((e=>e.id===b)).tasks.push(a),h()}));const w=document.getElementsByClassName("proj-btn")[0],E=document.getElementsByClassName("proj-list")[0],j=Array.from(document.getElementsByClassName("proj-list")[0].children),S=document.getElementById("down_arrow"),C=Array.from(document.getElementsByClassName("nav_list")[0].children),x=document.getElementsByClassName("sidebarBtn")[0],N=document.getElementsByClassName("sidebar")[0];x.onclick=()=>{"sidebar"===N.className?(N.classList.add("show"),x.classList.add("click")):(N.classList.remove("show"),x.classList.remove("click"))},w.onclick=()=>{"proj-list"===E.className?(E.classList.add("show"),S.classList.add("rotate")):(E.classList.remove("show"),S.classList.remove("rotate"))};for(let e=0;e<C.length;e++)switch(e){case 0:case 1:case 2:C[e].onclick=()=>{C.forEach((e=>{e.classList.remove("active")})),C[e].classList.add("active"),E.classList.remove("show"),S.classList.remove("rotate")};break;case 3:C[e].onclick=()=>{if(C.forEach((e=>{e.classList.remove("active")})),C[e].classList.add("active"),"proj-list show"===E.className)for(let e=0;e<j.length;e++)j[e].onclick=()=>{j.forEach((e=>{e.classList.remove("active")})),j[e].classList.add("active")};else C[e].classList.remove("active")}}})();